# X-UI نسخه فارسی
[برای نسخه انگلیسی X-UI] (README.md)

یکی دیگر از نسخه های ترجمه شده به انگلیسی X-UI. با برخی از ویژگی های پیشرفته تر پیاده سازی شده است.
 
توسعه بعدی از [مخزن قبلی من] (https://github.com/zahed3turke/x-ui-english.old) و
یک چنگال از [taffychan's x-ui](https://github.com/taffychan/x-ui) + [x-ui hossinasaadi](https://github.com/hossinasaadi/x-ui)، که همه از [پروژه عالی vaxilu] (https://github.com/vaxilu/x-ui/) جدا شده اند: یک پنل Xray چند کاربره چند پروتکلی

# امکانات

- همه چیز به زبان انگلیسی است (راه اندازی سرور + رابط کاربری سرور + رابط کاربری وب)
- نظارت بر وضعیت سیستم
- پشتیبانی از پروتکل چند کاربره، عملیات تجسم صفحه وب
- چند UUID را می توان به عنوان کاربر برای تنظیمات Vmess و Vless با کدهای QR مجزا اضافه کرد.
- محدودیت IP
- پروتکل های پشتیبانی شده: vmess، vless، trojan، shadowsocks، dokodemo-door، socks، http
- پشتیبانی برای پیکربندی تنظیمات انتقال بیشتر
- آمار ترافیک، محدودیت ترافیک، محدود کردن زمان انقضا
- قالب های پیکربندی xray قابل تنظیم
- پشتیبانی از پنل دسترسی https (نام دامنه + گواهی ssl خود را بیاورید)
- ربات تلگرام برای توابع اولیه و اطلاعیه ها
- پشتیبانی از برنامه گواهینامه SSL با یک کلیک و تمدید خودکار
- می توان به طور ایمن از v2-ui مهاجرت کرد
- می تواند به طور ایمن از نسخه قبلی X-UI (CH/EN) بدون از دست دادن خروجی به روز شود
- برای موارد پیکربندی پیشرفته تر، برای جزئیات به پانل مراجعه کنید


# پیش نمایش
![](media/Web.png)
![](media/PostInstallation.png)
# پیش نمایش ربات تلگرام (در حال حاضر فقط برای نسخه 0.2)
![](media/TGBot1.PNG)![](media/TGBot2.PNG)

# نصب و ارتقاء تک فرمان

```
bash <(curl -Ls https://raw.githubusercontent.com/zahed3turke/x-ui-english/master/install.sh)
```

## نصب و ارتقاء دستی

1. ابتدا سیستم خود را به روز کنید
1. سپس آخرین بسته فشرده را از https://github.com/zahed3turke/x-ui-english/releases/latest دانلود کنید، به طور کلی معماری «amd64» را انتخاب کنید.
2. بسته فشرده شده را در دایرکتوری «/root/» سرور آپلود کنید و از کاربر «root» برای ورود به سرور و اجرای دستورات زیر استفاده کنید.

> اگر معماری cpu سرور شما "amd64" نیست، "*" را در دستور با معماری دیگری جایگزین کنید

```
سی دی
rm x-ui/ /usr/local/x-ui/ /usr/bin/x-ui -rf
tar zxvf x-ui-linux-amd64.tar.gz
chmod +x x-ui/x-ui x-ui/bin/xray-linux-* x-ui/x-ui.sh
cp x-ui/x-ui.sh /usr/bin/x-ui
cp -f x-ui/x-ui.service /etc/systemd/system/
mv x-ui/ /usr/local/
systemctl daemon-reload
systemctl x-ui را فعال کنید
systemctl x-ui را ریستارت کنید
```

## با استفاده از docker نصب کنید


1. docker را نصب کنید

``پوسته
curl -fsSL https://get.docker.com | ش
```

2. x-ui را نصب کنید

``پوسته
mkdir x-ui && cd x-ui
docker run -itd --network=host \
    -v $PWD/db/:/etc/x-ui/ \
    -v $PWD/cert/:/root/cert/ \
    --name x-ui -- restart = مگر اینکه متوقف شود \
    enwaiax/x-ui:جدیدترین
```

> تصویر خود را بسازید

``پوسته
docker build -t x-ui .
```

## برنامه گواهی SSL

این اسکریپت دارای 3 عملکرد داخلی گواهینامه SSL است. استفاده از زیر دامنه توصیه می شود.
- ### روش اول (توصیه می شود. تقریباً برای هر TLD از جمله TLD های رایگان Freenom کار می کند)
برای استفاده از این روش برای درخواست گواهی، تنها مورد نیاز است که آدرس IP سرور شما به درستی به دامنه یا زیر دامنه ای که متعلق به شماست اشاره شود. (گزینه سوم اسکریپت Acme.sh)

- ### روش دوم و سوم (اگر روش بالا ناموفق بود استفاده کنید. برای TLD های رایگان Freenom کار نمی کند)
این به اندازه مورد اول برای مبتدی نیست. برای استفاده از این روش، تمام پیش نیازهای زیر باید رعایت شود:
- دانستن آدرس ایمیل ثبت شده در Cloudflare
- دانستن کلید API جهانی Cloudflare
- داشتن نام دامنه به سرور فعلی از طریق cloudflare حل شده است

نحوه دریافت کلید API جهانی Cloudflare:
1. از پیوند https://dash.cloudflare.com/profile/api-tokens دیدن کنید
2. روی View Global API Key کلیک کنید (تصویر زیر را ببینید)
        ![](media/APIKey1.PNG)
3. ممکن است مجبور شوید حساب خود را مجدداً احراز هویت کنید. پس از آن، کلید API نشان داده می شود (تصویر زیر را ببینید)\
        ![](media/APIKey2.png)

هنگام استفاده، فقط "نام دامنه"، "ایمیل"، "کلید API" را وارد کنید، نمودار به شرح زیر است:
        ![](media/DetailEnter.png)

موارد احتیاط:

- اسکریپت از DNS API برای درخواست گواهی استفاده می کند
- به طور پیش فرض از Let'sEncrypt به عنوان طرف CA استفاده کنید. می توانید بین Zerossl.com یا Buypass.com یکی را انتخاب کنید
- دایرکتوری نصب گواهی دایرکتوری /root/ است
- گواهینامه های درخواست شده توسط این اسکریپت همه گواهینامه های نام دامنه عمومی هستند

## محدودیت IP و چند کاربر در همان پورت
تقریباً چیزی برای توضیح در مورد چند کاربر وجود ندارد. شما کدهای QR جداگانه به همراه محاسبه ترافیک، تنظیم تاریخ انقضا و موارد دیگر خواهید داشت.

**محدودیت IP به شرح زیر عمل می کند:**

**مناسبت:**
- یک کلاینت وجود دارد که از پیکربندی v2ray با محدودیت IP = 1 استفاده می کند.
- او در حال حاضر از طریق رایانه شخصی خود با Wi-Fi به سرور v2ray متصل است
- سپس سعی می کند با استفاده از همان پیکربندی v2ray از تلفن همراه خود با 4G **در همان زمان** به سرور متصل شود.

**نتیجه:**
- هیچ تاثیری روی اتصال رایانه شخصی او وجود ندارد
- در موبایلش حدود 10 ثانیه با موفقیت وصل می شود
- سپس اتصال اینترنت موبایل وی از طریق v2ray قطع می شود. بازگشت **ERR_CONNECTION_CLOSED**.

**مناسبت:**
- پس از مدتی، همان کلاینت که در بالا ذکر شد، کامپیوتر خود را از v2ray جدا می کند
- اما موبایل خود را در تلاش برای اتصال نگه می دارد

**نتیجه:**
- پس از گذشت حدود 10 ثانیه از قطع کردن رایانه شخصی، اتصال تلفن همراه خود را دوباره به دست می آورد.

**اگر نصب جدیدی باشد، این توابع، به خصوص محدود کردن IP، بدون جریان کار خواهند کرد. اما اگر مال شما یک ارتقا باشد، ممکن است کار نکنند. در چنین مواردی لطفاً [اینجا] (https://github.com/zahed3turke/x-ui-english/discussions/27)** مراجعه کنید.

## سیستم عامل های پیشنهادی

- CentOS 7+
- اوبونتو 16+
- دبیان 8+

## راهنمای راه اندازی ربات تلگرام (در حال حاضر فقط برای نسخه 0.2)
X-UI English از اعلان ترافیک روزانه، یادآوری ورود به پنل و سرور و سایر عملکردها از طریق ربات تلگرام پشتیبانی می کند.

**عملکردهای ربات**
- استفاده از ترافیک ورودی
- یادآوری ورود به پنل
- یادآوری ورود به سرور SSH
- هشدار انقضای ورودی
- یادآوری هشدار ترافیک
- تابستانی روزانه در زمان از پیش تعریف شده
و بیشتر در راه است.....

برای فعال کردن ربات تلگرام انگلیسی X-UI به درستی مراحل زیر را دنبال کنید:
1. به [ربات Botfather] (https://t.me/BotFather) بروید. آن را شروع کنید و دستور newbot / را ارسال کنید. دستورالعمل های ربات را برای تنظیم نام و نام کاربری برای ربات خود دنبال کنید. پس از ایجاد موفقیت آمیز ربات جدید، پیامی مانند زیر را مشاهده خواهید کرد. که حاوی کلید API شما است. آن را در جایی امن تر نگه دارید. بعداً به آن نیاز خواهید داشت.

![](media/Botfather.PNG)

2. سپس، [GetUIDs Bot] (https://t.me/getidsbot) را راه اندازی کنید و برای آن پیام ارسال کنید. شماره زیر "شما" را کپی کنید. اسکرین شات زیر را ببینید.

![](media/GETUIDsbot.png)

3. در نهایت، UID و API Key را در کادرهای متنی صحیح در تب تنظیمات ربات تلگرام در پانل وب انگلیسی X-UI قرار دهید. پس از فعال کردن ربات به https://t.me/ «نام کاربری ربات شما» دسترسی پیدا کنید. از دستورالعمل های آن برای ادامه و استفاده از دستورات استفاده کنید.

### قالب زمان بندی ربات تلگرام (راهنمای کرونتاب)

نحو مرجع:
- `*/30 * * * *` هر 30 دقیقه، هر ساعت یکبار اطلاع رسانی کنید
- `30 * * * * *` در 30 ثانیه هر نقطه اطلاع دهید
- اعلان‌های ساعتی @hourly
- اعلان روزانه `@daily` (00:00 صبح)
- هر 8 ساعت یک اعلان `@هر 8 ساعت

جزئیات بیشتر درباره Crontab [اینجا](https://support-acquia.force.com/s/article/360004224494-Cron-time-string-format)
## نکته برای طراحان مبتدی
هی توسعه دهنده مبتدی! از علاقه شما به پخش کدها با این مخزن قدردانی کنید. من افراد زیادی را دیده ام که با هیچ یک از زبان های استفاده شده در اینجا آشنایی چندانی ندارند، اما هنوز باید تغییراتی مانند ترجمه رابط کاربری به زبان مادری خود، تغییر توابع ربات تلگرام و غیره انجام دهند. اما پس از اتمام با همه این اصلاحات کد، برخی از آنها برای تبدیل کد خود به یک باینری کار سختی دارند. بنابراین آنها با من تماس می گیرند و من باید بارها همان روش را به آنها بگویم. بنابراین، در اینجا نحوه انجام این کار توسط خودتان آمده است.
- به «پیوند مخزن فورک شما»/اقدامات بروید. اگر Github Actions هنوز فعال نشده است را فعال کنید.
- روی Relese X-ui در زیر All workflows کلیک کنید
- در نهایت دوبار روی Run workflow کلیک کنید. صبر کنید تا اجرای گردش کار به پایان برسد. پس از اتمام، یک بسته انتشار با تغییرات خود را در «پیوند مخزن چنگال شما»/releases پیدا خواهید کرد.
 
اگر به دنبال تغییر عملکرد ربات تلگرام هستید، کد ربات در «/web/service/telegram.go» موجود است.

** برنامه نویسی مبتدی، برنامه نویسی مبارک!**

## مشکلات تا آخرین به‌روزرسانی برطرف شد

### در 0.1 ثابت شد --
- خطای GLIBC 2.28 Not Found
- خطای گردش کار به دلیل TG Bot
- نصب SSL با یک کلیک
### در 0.2 ثابت شد --
- شناسه های چند کاربره برای Vmess و Vless
- عدم پیاده سازی ربات تلگرام
- بسته های آزاد از نظر اندازه بسیار سنگین تر هستند
- ترافیک دانلود نظارت نمی شود - در 0.2.1 ثابت شده است
### در 0.2.1 ثابت شد --
- داده های دانلود محاسبه نمی شود
- عدم وجود کدهای QR مجزا برای هر چند کاربر در VMess/Vless
- ساعت کار به انگلیسی ترجمه نمی شود
- محدودیت IP کار نمی کند
- اشکالات جزئی در نصب داکر
### در 0.2.1.1 ثابت شد --
- خطا در هنگام تعویض نسخه Xray
